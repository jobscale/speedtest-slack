#!/bin/bash -eu

name=$1
mkdir $name

# touch files
touch $name/$name.scss

vueTemplate() {
  echo '<template src="./'$name'.html"></template>'
  echo '<script src="./'$name'.js"></script>'
  echo '<style src="./'$name'.scss"></style>'
}

htmlTemplate() {
  echo '<v-ons-page id="'$name'">'
  echo '  <div class="background"></div>'
  echo '  <div class="content">'
  echo '    <div class="center" @click="onClick">'
  echo '      <img src="../../assets/logo.png">'
  echo '    </div>'
  echo '  </div>'
  echo '</v-ons-page>'

}

jsTemplate() {
  echo "import { Util as u } from '@/modules/util';"
  echo ''
  echo 'export default {'
  echo '  data() {'
  echo '    return {'
  echo '    };'
  echo '  },'
  echo '  methods: {'
  echo '    translate: u.translate,'
  echo '    onClick() {'
  echo '      u.splitter.$emit('"'pop-page');"
  echo '    },'
  echo '  },'
  echo '};'
}

main() {
  vueTemplate > $name/index.vue
  htmlTemplate > $name/$name.html
  jsTemplate > $name/$name.js
}

main
echo 'created files'
find $name -type f -ls
